<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GrAL Bootstrap - Autoebaluazio galdetegia</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Navbar shrink */
    .navbar-shrink {
      padding-top: 0.25rem !important;
      padding-bottom: 0.25rem !important;
      transition: padding 0.3s;
    }

    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      padding-top: 0;
      margin: 0;
      /* El padding-top lo gestiona navbar.js */
      transition: padding-top 0.3s ease;
    }

    .container {
      padding-top: 1rem;
      padding-bottom: 2rem;
    }

    /* Footer */
    .footer {
      background-color: #343a40;
      color: white;
      text-align: center;
      padding: 0.75rem 0;
      margin-top: auto;
    }

    .footer p {
      margin-bottom: 0.25rem;
    }

    .footer .mb-2 {
      margin-bottom: 0.25rem !important;
    }

    .footer a {
      color: #ffffff;
      text-decoration: underline;
    }

    .footer a:hover {
      color: #adb5bd;
    }

    /* Card estilo glassmorphism */
    .card {
      border-radius: 1rem;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 48px rgba(0,0,0,0.15);
    }

    .card-header {
      background: rgba(0,0,0,0.25);
      color: #fff;
      font-weight: 600;
      font-size: 1.1rem;
      border-bottom: 1px solid rgba(255,255,255,0.3);
    }

    .card-body {
      background: rgba(255, 255, 255, 0.9);
      color: #212529;
      padding: 2rem;
    }

    /* Reset button */
    .btn-reset {
      font-size: 0.75rem;
      padding: 0.15rem 0.5rem;
      margin-left: 0.5rem;
      background-color: rgba(220, 53, 69, 0.85);
      border-color: rgba(220, 53, 69, 0.85);
      color: white;
      transition: all 0.3s ease;
    }

    .btn-reset:hover {
      background-color: rgba(220, 53, 69, 1);
      border-color: rgba(220, 53, 69, 1);
      transform: scale(1.05);
    }

    /* Galderak */
    .form-check {
      margin-bottom: 0.75rem;
    }

    .form-check-input:checked + .form-check-label {
      font-weight: 600;
      color: #0d6efd;
    }

    /* Button estilo */
    .btn-primary {
      background-color: rgba(13,110,253,0.85);
      border-color: rgba(13,110,253,0.85);
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      background-color: rgba(13,110,253,1);
      border-color: rgba(13,110,253,1);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    /* Kontagailua */
    #contador {
      font-size: 1.25rem;
      color: #ffc107;
    }

    /* Emaitza alert */
    #emaitza .alert {
      font-weight: 600;
      font-size: 1rem;
    }

    /* Galdera separazioa */
    .mb-4 {
      padding: 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.2);
      border-radius: 0.5rem;
      background-color: rgba(255,255,255,0.05);
      transition: background 0.3s ease, transform 0.3s ease;
    }

    .mb-4:hover {
      background-color: rgba(255,255,255,0.1);
      transform: translateY(-2px);
    }

    /* Estilos para respuestas correctas e incorrectas */
    .respuesta-correcta {
      background-color: rgba(40, 167, 69, 0.2);
      border-left: 4px solid #28a745;
      padding: 0.5rem;
      margin: 0.5rem 0;
      border-radius: 0.25rem;
    }

    .respuesta-incorrecta {
      background-color: rgba(220, 53, 69, 0.2);
      border-left: 4px solid #dc3545;
      padding: 0.5rem;
      margin: 0.5rem 0;
      border-radius: 0.25rem;
    }

    .respuesta-correcta .form-check-label {
      color: #28a745 !important;
      font-weight: 700 !important;
    }

    .respuesta-incorrecta .form-check-label {
      color: #dc3545 !important;
      font-weight: 700 !important;
    }

    .icono-correcto::after {
      content: " ‚úì";
      color: #28a745;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .icono-incorrecto::after {
      content: " ‚úó";
      color: #dc3545;
      font-weight: bold;
      font-size: 1.2rem;
    }
  </style>
</head>
<body>

  <!-- Navbar placeholder -->
  <div id="navbar-placeholder"></div>
  
  <div class="container mt-4 mb-5">
    <h1 class="mb-3">Autoebaluazio galdetegia</h1>
    
    <div class="card bg-dark text-white mb-4">
      <div class="card-header">
        <strong>Galderek erantzun dituzun kopurua: <span id="contador">0</span>/10</strong>
      </div>
      <div class="card-body">
        <p>Galdetegi honek 10 galdera ditu. Galdera bakoitzak hiru erantzun aukera ditu, baina bakarra da zuzena. Aukeratu zure erantzuna eta bidali galdetegia amaitutakoan.</p>
        
        <form id="galdetegiaForm">

          <!-- Galdera 1 -->
          <div class="mb-4" id="galdera1">
            <p>
              <strong>1. Galdera:</strong> Zein da Gradu Amaierako Lanaren (GrAL) helburu nagusietako bat?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(1)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q1" id="q1a" value="a">
              <label class="form-check-label" for="q1a">Ikasleek taldeka irakasleak proposatutako proiektu bat garatzea.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q1" id="q1b" value="b">
              <label class="form-check-label" for="q1b">Ikasleak jasotako ezagutza, gaitasun eta trebetasunak aplikatzea.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q1" id="q1c" value="c">
              <label class="form-check-label" for="q1c">Ikasleek graduko ikasgai guztien inguruko laburpen bat egitea.</label>
            </div>
          </div>

          <!-- Galdera 2 -->
          <div class="mb-4" id="galdera2">
            <p>
              <strong>2. Galdera 2:</strong> Zenbat denbora du ikasleak bere Gradu Amaierako Lana (GrAL) defendatzeko?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(2)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q2" id="q2a" value="a">
              <label class="form-check-label" for="q2a">10 minutu</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q2" id="q2b" value="b">
              <label class="form-check-label" for="q2b">30 minutu</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q2" id="q2c" value="c">
              <label class="form-check-label" for="q2c">Ez dago denbora mugarik.</label>
            </div>
          </div>

          <!-- Galdera 3 -->
          <div class="mb-4" id="galdera3">
            <p>
              <strong>3. Galdera 3:</strong> Zer kalifikazio eskala erabiltzen da Gradu Amaierako Lana (GrAL) ebaluatzeko?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(3)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q3" id="q3a" value="a">
              <label class="form-check-label" for="q3a">Leku bakoitzean eskala desberdin bat erabiltzen da, bertako irakasleek erabakitzen dutena.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q3" id="q3b" value="b">
              <label class="form-check-label" for="q3b">0tik 10era bitarteko eskala, hamartar batekin eta kalifikazio kualitatiboarekin.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q3" id="q3c" value="c">
              <label class="form-check-label" for="q3c">Gainditua edo Ez Gainditua.</label>
            </div>
          </div>

          <!-- Galdera 4 -->
          <div class="mb-4" id="galdera4">
            <p>
              <strong>4. Galdera 4:</strong> Nork zuzendu dezake Gradu Amaierako Lana (GrAL)?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(4)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q4" id="q4a" value="a">
              <label class="form-check-label" for="q4a">Unibertsitateko dekanoak.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q4" id="q4b" value="b">
              <label class="form-check-label" for="q4b">Fakultateko irakasle batek, edo kasu batzuetan, kanpoko erakunde bateko tutore batek.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q4" id="q4c" value="c">
              <label class="form-check-label" for="q4c">Unibertsitateko edozein langilek.</label>
            </div>
          </div>

          <!-- Galdera 5 -->
          <div class="mb-4" id="galdera5">
            <p>
              <strong>5. Galdera 5:</strong> Noiz defendatu eta ebaluatu daiteke Gradu Amaierako Lana (GrAL)?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(5)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q5" id="q5a" value="a">
              <label class="form-check-label" for="q5a">Ikasleak ikasketako nahitaezko kreditu guztiak lortu dituenean, Gradu Amaierako Lana izan ezik.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q5" id="q5b" value="b">
              <label class="form-check-label" for="q5b">Edozein momentutan defendatu eta ebaluatu daiteke.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q5" id="q5c" value="c">
              <label class="form-check-label" for="q5c">Ikasleak unibertsitateko dekanoaren baimena jasotzen duenean.</label>
            </div>
          </div>

          <!-- Galdera 6 -->
          <div class="mb-4" id="galdera6">
            <p>
              <strong>6. Galdera 6:</strong> Nola egin behar da Gradu Amaierako Lanaren (GrAL) defentsa?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(6)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q6" id="q6a" value="a">
              <label class="form-check-label" for="q6a">Galdetegi baten bidez.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q6" id="q6b" value="b">
              <label class="form-check-label" for="q6b">Idatziz entregatuz, ahoz aurkeztu behar izan gabe.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q6" id="q6c" value="c">
              <label class="form-check-label" for="q6c">Aurrez aurre eta jendaurrean, epaimahai baten aurrean.</label>
            </div>
          </div>

          <!-- Galdera 7 -->
          <div class="mb-4" id="galdera7">
            <p>
              <strong>7. Galdera 7:</strong> Non ikus ditzakezu aurreko urteetan defendatutako Gradu Amaierako Lanak (GrAL)?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(7)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q7" id="q7a" value="a">
              <label class="form-check-label" for="q7a">GAUR</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q7" id="q7b" value="b">
              <label class="form-check-label" for="q7b">ADDI</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q7" id="q7c" value="c">
              <label class="form-check-label" for="q7c">eGela</label>
            </div>
          </div>

          <!-- Galdera 8 -->
          <div class="mb-4" id="galdera8">
            <p>
              <strong>8. Galdera 8:</strong> Zeri buruz egin dezakezu Gradu Amaierako Lana (GrAL)?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(8)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q8" id="q8a" value="a">
              <label class="form-check-label" for="q8a">Edozein gradut edo espezialitateko gai bati buruz, ez du axola.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q8" id="q8b" value="b">
              <label class="form-check-label" for="q8b">Ikasitako gradu/espezialitateari buruz, betiere irakasle baten zuzendaritzapean.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q8" id="q8c" value="c">
              <label class="form-check-label" for="q8c">Ikasitako gradu/espezialitatearekin lotutako edozein gairi buruz.</label>
            </div>
          </div>

          <!-- Galdera 9 -->
          <div class="mb-4" id="galdera9">
            <p>
              <strong>9. Galdera 9:</strong> Non ematen da izena Gradu Amaierako Lan (GrAL) egiteko?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(9)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q9" id="q9a" value="a">
              <label class="form-check-label" for="q9a">GAUR</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q9" id="q9b" value="b">
              <label class="form-check-label" for="q9b">Posta elektroniko bat bidaliz</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q9" id="q9c" value="c">
              <label class="form-check-label" for="q9c">ADDI</label>
            </div>
          </div>

          <!-- Galdera 10 -->
          <div class="mb-4" id="galdera10">
            <p>
              <strong>10. Galdera 10:</strong> Posible da Gradu Amaierako Lana (GrAL) EHUtik kanpo egitea?
              <button type="button" class="btn btn-reset btn-sm" onclick="garbituGaldera(10)">‚úï Garbitu</button>
            </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q10" id="q10a" value="a">
              <label class="form-check-label" for="q10a">Ez, ez da onartzen.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q10" id="q10b" value="b">
              <label class="form-check-label" for="q10b">Bai, eta nahikoa da justifikazio paper bat erakustearekin defentsa egiteko.</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q10" id="q10c" value="c">
              <label class="form-check-label" for="q10c">Bai, baina zuzendarikide baten gainbegirapenean eta jarraipen sakon bat jarraituz.</label>
            </div>
          </div>

 <!-- Botoiak -->
    <div class="text-center mt-4">
      <button type="submit" class="btn btn-primary mx-2">Bidali</button>
      <button type="button" class="btn btn-danger mx-2" onclick="resetGaldetegia()">Garbitu dena</button>
    </div>
          </form>

<h3 class="text-center mt-4">Zure puntuazioa: <span id="contador">0</span>/10</h3>
  <div id="emaitza" class="mt-3 text-center"></div>      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="../components/navbar.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script> 
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script> 

  <script>
    const form = document.getElementById("galdetegiaForm");
    const contador = document.getElementById("contador");

    // Respuestas correctas
    const respuestasCorrectas = {
      q1: 'b',
      q2: 'b',
      q3: 'c',
      q4: 'b',
      q5: 'a',
      q6: 'c',
      q7: 'b',
      q8: 'b',
      q9: 'a',
      q10: 'c'
    };

    // Funtzioa galdera bat garbitzeko
    function garbituGaldera(zenbakia) {
      const radios = form[`q${zenbakia}`];
      if (radios) {
        radios.forEach(radio => {
          radio.checked = false;
          // Limpiar estilos de correcci√≥n
          const parent = radio.closest('.form-check');
          parent.classList.remove('respuesta-correcta', 'respuesta-incorrecta');
          parent.querySelector('.form-check-label').classList.remove('icono-correcto', 'icono-incorrecto');
        });
        actualizarContador();
      }
    }

    // Funtzioa galdera erantzunak kontatzeko
    function actualizarContador() {
      let erantzunak = 0;
      for(let i=1; i<=10; i++){
        if(form[`q${i}`].value){
          erantzunak++;
        }
      }
      contador.textContent = erantzunak;
    }

    // Event listener bakoitzaren aldaketarako
    form.addEventListener("change", function(e){
      let name = e.target.name;
      if(name.startsWith("q")) actualizarContador();
    });

    // Submit handler
    form.addEventListener("submit", function(e){
      e.preventDefault();
      
      let zuzenak = 0;
      let okerrak = 0;

      // Comprobar cada pregunta
      for(let i=1; i<=10; i++){
        const pregunta = `q${i}`;
        const respuestaUsuario = form[pregunta].value;
        const respuestaCorrecta = respuestasCorrectas[pregunta];
        
        // Obtener todos los radio buttons de esta pregunta
        const radios = document.querySelectorAll(`input[name="${pregunta}"]`);
        
        radios.forEach(radio => {
          const parent = radio.closest('.form-check');
          const label = parent.querySelector('.form-check-label');
          
          // Limpiar estilos previos
          parent.classList.remove('respuesta-correcta', 'respuesta-incorrecta');
          label.classList.remove('icono-correcto', 'icono-incorrecto');
          
          // Si es la respuesta correcta, marcarla en verde
          if(radio.value === respuestaCorrecta){
            parent.classList.add('respuesta-correcta');
            label.classList.add('icono-correcto');
          }
          
          // Si el usuario seleccion√≥ esta y es incorrecta, marcarla en rojo
          if(radio.checked && radio.value !== respuestaCorrecta){
            parent.classList.add('respuesta-incorrecta');
            label.classList.add('icono-incorrecto');
          }
        });
        
        // Contar aciertos
        if(respuestaUsuario === respuestaCorrecta){
          zuzenak++;
        } else if(respuestaUsuario){
          okerrak++;
        }
      }

      // Calcular nota
      const nota = (zuzenak / 10 * 10).toFixed(1);
      const porcentaje = (zuzenak / 10 * 100).toFixed(0);

      // Mostrar resultado
      const emaitzaDiv = document.getElementById("emaitza");
      let alertClass = 'alert-danger';
      let mensaje = 'Gehiago ikasten saiatu behar duzu!';
      
      if(nota >= 9){
        alertClass = 'alert-success';
        mensaje = 'Bikain! Oso ondo ezagutzen duzu GrALa!';
      } else if(nota >= 7){
        alertClass = 'alert-info';
        mensaje = 'Ondo! Baina hobetu dezakezu!';
      } else if(nota >= 5){
        alertClass = 'alert-warning';
        mensaje = 'Gainditu duzu, baina azterketa gehiago egin beharko zenuke.';
      }

      emaitzaDiv.innerHTML = `
        <div class="alert ${alertClass}">
          <h5><strong>Emaitzak:</strong></h5>
          <p>‚úì Erantzun zuzenak: ${zuzenak}/10</p>
          <p>‚úó Erantzun okerrak: ${okerrak}/10</p>
          <p>üìä Portzentajea: ${porcentaje}%</p>
          <p>üìù Nota: ${nota}/10</p>
          <hr>
          <p>${mensaje}</p>
        </div>
      `;

      // Scroll hasta el resultado
      emaitzaDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    });
    function resetGaldetegia() {
  form.reset();

  for (let i = 1; i <= 10; i++) {
    const aukerak = document.querySelectorAll(`input[name="q${i}"]`);
    aukerak.forEach(radio => {
      const parent = radio.closest(".form-check");
      const label = parent.querySelector(".form-check-label");

      parent.classList.remove("respuesta-correcta", "respuesta-incorrecta");
      label.classList.remove("icono-correcto", "icono-incorrecto");
    });
  }

  contador.textContent = "0";
  document.getElementById("emaitza").innerHTML = "";
}
  </script>

  <!-- Footer placeholder -->
  <div id="footer-placeholder"></div>
  <script src="../components/footer.js"></script>
</body>
</html>